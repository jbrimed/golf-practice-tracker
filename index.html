<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Golf Practice Hub</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            brand: {
              50: '#f0fdf4',
              100: '#dcfce7',
              500: '#22c55e',
              600: '#15803d',
              700: '#166534',
              800: '#14532d',
              900: '#052e16',
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    body { background-color: #f1f5f9; -webkit-font-smoothing: antialiased; }

    /* Card Styling */
    .card {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      border: 1px solid #e2e8f0;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05);
      transition: all 0.2s ease;
    }
    
    /* Nav Pills */
    .nav-pill { position: relative; transition: all 0.2s ease; }
    .nav-pill.active { color: #15803d; background-color: white; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1); font-weight: 700; }
    .nav-pill:hover:not(.active) { background-color: #e2e8f0; color: #334155; }

    /* Inputs */
    .input-style {
      background-color: #f8fafc; border: 1px solid #cbd5e1; border-radius: 0.5rem; padding: 0.75rem 1rem; transition: all 0.2s; outline: none; font-size: 0.95rem;
    }
    .input-style:focus { background-color: white; border-color: #15803d; box-shadow: 0 0 0 3px rgba(21, 128, 61, 0.15); }

    /* Utilities */
    .hidden { display: none !important; }
    details > summary { list-style: none; }
    details > summary::-webkit-details-marker { display: none; }
  </style>
</head>

<body class="text-slate-800 pb-24">

  <!-- HEADER -->
  <header class="bg-white sticky top-0 z-50 border-b border-slate-200 shadow-sm">
    <div class="max-w-3xl mx-auto px-4 py-3">
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-2.5">
          <div class="bg-brand-600 text-white p-2 rounded-lg shadow-sm">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5 10 10 0 0 0-10 0Z"/><path d="m9 12 2 2 4-4"/>
            </svg>
          </div>
          <div>
            <h1 class="text-lg font-bold tracking-tight text-slate-900 leading-tight">Practice<span class="text-brand-600">Hub</span></h1>
          </div>
        </div>
      </div>

      <nav class="flex p-1 bg-slate-100 rounded-xl overflow-hidden">
        <button class="tab-button nav-pill flex-1 py-2 rounded-lg text-xs sm:text-sm font-semibold text-slate-500 active" data-tab="setup">Setup</button>
        <button class="tab-button nav-pill flex-1 py-2 rounded-lg text-xs sm:text-sm font-semibold text-slate-500" data-tab="log">Log</button>
        <button class="tab-button nav-pill flex-1 py-2 rounded-lg text-xs sm:text-sm font-semibold text-slate-500" data-tab="history">History</button>
        <button class="tab-button nav-pill flex-1 py-2 rounded-lg text-xs sm:text-sm font-semibold text-slate-500" data-tab="analytics">Stats</button>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="max-w-3xl mx-auto px-4 py-6 space-y-8">

    <!-- 1. SETUP TAB -->
    <section id="setup" class="tab-pane space-y-6 animate-fade-in">
      
      <!-- Quick Start Presets (Collapsible) -->
      <div id="presets-container">
        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">Quick Start</h3>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button class="preset-btn bg-gradient-to-br from-indigo-500 to-indigo-600 text-white p-3 rounded-xl shadow-md hover:shadow-lg transition active:scale-95 text-left flex flex-col justify-between h-24" data-type="random">
            <span class="text-2xl">ðŸŽ²</span><span class="text-xs font-bold">Random Mix</span>
          </button>
          <button class="preset-btn bg-white border border-slate-200 text-slate-700 p-3 rounded-xl shadow-sm hover:border-brand-500 hover:text-brand-600 transition active:scale-95 text-left flex flex-col justify-between h-24" data-type="shortgame">
            <span class="text-2xl">â›³</span><span class="text-xs font-bold">Short Game</span>
          </button>
          <button class="preset-btn bg-white border border-slate-200 text-slate-700 p-3 rounded-xl shadow-sm hover:border-blue-500 hover:text-blue-600 transition active:scale-95 text-left flex flex-col justify-between h-24" data-type="driver_iron">
            <span class="text-2xl">ðŸš€</span><span class="text-xs font-bold">Long Game</span>
          </button>
          <button class="preset-btn bg-white border border-slate-200 text-slate-700 p-3 rounded-xl shadow-sm hover:border-emerald-500 hover:text-emerald-600 transition active:scale-95 text-left flex flex-col justify-between h-24" data-type="putting">
            <span class="text-2xl">ðŸŸ¢</span><span class="text-xs font-bold">Putting</span>
          </button>
        </div>
      </div>

      <hr class="border-slate-200">

      <!-- Session Config (Reduced) -->
      <div class="card space-y-4">
        <div class="flex items-center gap-2 pb-2 border-b border-slate-100">
          <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
          <h2 class="text-base font-bold text-slate-800">Custom Session</h2>
        </div>

        <div>
          <label class="block text-xs font-bold text-slate-500 mb-1.5">Date</label>
          <input type="date" id="session-date" class="w-full input-style text-sm font-medium"/>
        </div>

        <div>
          <label class="block text-xs font-bold text-slate-500 mb-2">Focus Areas</label>
          <div id="skill-select" class="space-y-2"></div>
        </div>
      </div>

      <!-- Drills List -->
      <div class="card space-y-4">
        <div class="flex items-center justify-between pb-2 border-b border-slate-100">
          <h2 class="text-base font-bold text-slate-800">Selected Drills</h2>
          <span class="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full font-medium" id="drill-count-badge">0</span>
        </div>
        <div id="drill-select" class="space-y-3 min-h-[100px]">
          <div class="text-center py-8 text-slate-400 text-sm italic">Select focus areas above...</div>
        </div>
      </div>

      <!-- Sticky Start Button -->
      <div class="fixed bottom-6 left-0 right-0 px-4 z-40 max-w-3xl mx-auto">
        <button id="go-to-log" class="w-full bg-slate-900 text-white py-4 rounded-2xl text-lg font-bold shadow-2xl hover:bg-slate-800 active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-2 ring-1 ring-white/20 backdrop-blur-sm">
          <span>Start Session</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
        </button>
      </div>
      <div class="h-16"></div>
    </section>

    <!-- 2. LOG TAB -->
    <section id="log" class="tab-pane hidden space-y-6">
      <div class="flex items-center justify-between bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
        <div>
          <h2 class="text-xl font-bold text-slate-900">Active Session</h2>
          <p class="text-xs text-slate-500 font-medium" id="log-date-display">Today</p>
        </div>
        <div class="h-2 w-2 bg-green-500 rounded-full animate-pulse"></div>
      </div>
      <div id="selected-drills-log" class="space-y-6"></div>
      <div class="card space-y-4 border-l-4 border-l-brand-600">
        <h2 class="text-base font-bold text-slate-800">Session Notes</h2>
        <textarea id="session-notes" rows="3" class="w-full input-style resize-none" placeholder="Notes..."></textarea>
        <button id="save-session" class="w-full mt-2 bg-brand-600 text-white py-3.5 rounded-xl text-base font-bold hover:bg-brand-700 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2">
          Complete Session
        </button>
      </div>
    </section>

    <!-- 3. HISTORY TAB -->
    <section id="history" class="tab-pane hidden space-y-6">
      <h2 class="text-xl font-bold text-slate-900">History</h2>
      <div id="history-list" class="space-y-4"></div>
      <div id="backup-section-container"></div> 
    </section>

    <!-- 4. ANALYTICS TAB -->
    <section id="analytics" class="tab-pane hidden space-y-6">
      <h2 class="text-xl font-bold text-slate-900">Trends</h2>
      <div id="analytics-container" class="space-y-6"></div>
    </section>

  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().split('T')[0];
      const dateInput = document.getElementById('session-date');
      if(dateInput) dateInput.value = today;
      const logDateDisplay = document.getElementById('log-date-display');
      if(logDateDisplay) logDateDisplay.innerText = new Date().toLocaleDateString(undefined, {weekday: 'long', month: 'short', day: 'numeric'});
    });
  </script>

<script type="module" src="./app.js"></script>
</body>
</html>